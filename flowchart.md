┌─────────────────────────────────────────────────────────────┐
│  1. ФОРМА (HTML)                                            │
│  <input name="collection_basis" value="Абзац другий..." />  │
└────────────────────────┬────────────────────────────────────┘
                         │ POST /dataset/new
                         ▼
┌─────────────────────────────────────────────────────────────┐
│  2. ВАЛІДАТОР (validators.py)                               │
│  ua_collection_basis_validator(value, context)              │
│  ✓ Перевірка довжини: 10-500 символів                       │
└────────────────────────┬────────────────────────────────────┘
                         │ ✅ Валідація OK
                         ▼
┌─────────────────────────────────────────────────────────────┐
│  3. CKAN СХЕМА (schema.py)                                  │
│  Визначає, що 'collection_basis' → extras                   │
└────────────────────────┬────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────────────┐
│  4. БАЗА ДАНИХ (PostgreSQL)                                 │
│  INSERT INTO package_extra                                  │
│  (id, package_id, key, value)                               │
│  VALUES ('uuid', 'pkg-id', 'collection_basis', 'Абзац...')  │
└────────────────────────┬────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────────────┐
│  5. ЗАВАНТАЖЕННЯ (package_show)                             │
│  SELECT p.*, pe.key, pe.value FROM package p                │
│  LEFT JOIN package_extra pe ON p.id = pe.package_id         │
└────────────────────────┬────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────────────┐
│  6. DICTIZE (model_dictize.py)                              │
│  pkg_dict = {'collection_basis': 'Абзац другий...'}         │
│  Extras додаються як поля верхнього рівня!                  │
└────────────────────────┬────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────────────┐
│  7. ШАБЛОН (additional_info.html)                           │
│  {{ h.ua_get_dataset_field_value(pkg_dict,                  │
│                                   'collection_basis') }}     │
└────────────────────────┬────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────────────┐
│  8. HELPER (ui.py)                                          │
│  value = pkg_dict.get('collection_basis')                   │
│  return value or default                                    │
└────────────────────────┬────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────────────┐
│  9. HTML (відображення)                                     │
│  <dd>Абзац другий пункту 14 Положення...</dd>               │
└─────────────────────────────────────────────────────────────┘
